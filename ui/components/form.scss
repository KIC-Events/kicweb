form {
  .field {
    position: relative;

    label:not(input + label):not(select + label):not(textarea + label) {
      font: normal normal bold 0.75rem/0.9375rem var(--font-montserrat);
      letter-spacing: 0;
      text-transform: uppercase;
      font-weight: bold;
    }

    input[type="checkbox"] + label,
    input[type="radio"] + label {
      font: normal normal normal 0.75rem/0.9375rem var(--font-montserrat);
      letter-spacing: 0;
      text-transform: none;
      font-weight: normal;
      cursor: pointer;
    }

    &__description {
      font: italic normal normal 0.625rem/0.9375rem var(--font-montserrat);
      color: var(--color-grey);
      letter-spacing: 0;
      margin-top: .0625rem;

      p + p {
        margin-top: var(--space-1);
      }
    }

    &-validation-error {
      font-family: var(--font-montserrat);
      font-weight: normal;
      font-size: 0.675rem;
      color: var(--color-red);
      position: absolute;
      bottom: -1.15rem;
    }

    &.required {
      label:not(input + label)::after {
        content: " *";
        color: var(--color-red);
      }
    }

    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="number"],
    input[type="url"],
    input[type="tel"],
    input[type="date"],
    textarea,
    select,
    .ts-control {
      display: block;
      width: 100%;
      font-size: 0.875rem;
      max-width: 18.75rem;
      border: 0.125rem solid var(--color-theme);
      height: var(--space-4);
      padding: 0 var(--space-1);
      margin-top: 0.375rem;
      border-radius: 0;

      &:focus {
        border-color: color-mix(in srgb, var(--color-theme) 90%, black 10%);
      }

      &.input-validation-error {
        border-color: var(--color-red);
      }
    }

    textarea {
      height: auto;
      max-width: 30.25rem;
      min-height: 4.5rem;
      padding: var(--space-1);
    }

    .ts-control {
      padding: var(--space-1);
      max-width: 30.25rem;
      height: auto;
      min-height: 2.5rem;
      width: 100%;
    }

    .input-validation-error + .ts-wrapper .ts-control {
      border-color: var(--color-red);
    }
    
    + .field {
      margin-top: var(--space-2-5);
    }

    + .button {
      margin-top: var(--space-5);
    }

    &.field--inline {
      position: relative;

      input[type="text"],
      input[type="email"],
      input[type="password"],
      input[type="number"],
      input[type="url"],
      input[type="tel"],
      input[type="date"],
      select {
        height: 3rem;
      }

      // Input/textarea inside the inline field
      input[type="text"],
      input[type="email"],
      input[type="password"],
      input[type="number"],
      input[type="url"],
      input[type="tel"],
      input[type="date"],
      select,
      textarea {
        border: 0.1rem solid color-mix(in srgb, var(--color-theme) 40%, transparent);
        border-radius: 3px;

        // remove top margin; we place the label on top of the border
        padding-top: 0.2rem;
        margin-top: 0;
        max-width: 18.75rem; // keep your existing width cap

        &.input-validation-error {
          border-color: var(--color-red);
        }
      }

      input + label,
      textarea + label,
      select + label{
        color: var(--color-grey);
        position: absolute;
        left: 0.25rem;
        top: 50%;
        transform: translateY(-50%);
        transform-origin: left top;
        font: normal normal 500 0.875rem/1 var(--font-montserrat);
        pointer-events: none;
        background: var(--color-white);
        padding: 0 0.25rem;
        transition: transform .15s ease, color .15s ease;
      }

      // Focused or has value -> float
      input:focus + label,
      input.has-value + label,
      textarea:focus + label,
      textarea.has-value + label,
      select.has-value + label {
        transform: translateY(-205%) scale(0.9);
        color: color-mix(in srgb, var(--color-theme) 90%, black 10%);
      }

      input:focus,
      textarea:focus {
        border-color: color-mix(in srgb, var(--color-theme) 75%, transparent);
      }

      // Keep your required asterisk
      &.required input + label::after,
      &.required textarea + label::after {
        content: " *";
        color: var(--color-red);
      }

      // Validation message still sits under the field
      &-validation-error {
        bottom: -1.15rem;
      }
    }
  }
}

.radio-group .radio {
  margin-top: var(--space-1);
  + .radio {
    margin-top: var(--space-0-5);
  }
}

.checkbox-group .checkbox + .checkbox {
  margin-top: var(--space-1);
}

.radio {
  display: flex;
  align-items: center;
  gap: var(--space-1);

  input[type=radio] {
    appearance: none;
    position: relative;
    display: inline-block;
    width: 1rem;
    height: 1rem;
    aspect-ratio: 1 / 1;
    cursor: pointer;
    border-radius: 50%;
    border: 2px solid var(--color-theme);
    background-color: transparent;
    padding: 0; // Prevents squish from browser default

    &::after {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0.5rem;
      height: 0.5rem;
      background-color: var(--color-theme);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      opacity: 0;
      transition: opacity 0.15s ease;
    }

    &:hover::after {
      opacity: 0.25;
    }

    &:checked::after {
      opacity: 1;
    }

    &:focus-visible {
      outline: 2px solid var(--color-black);
      outline-offset: 2px;
    }

    + input {

    }
  }
}

.checkbox {
  display: flex;
  align-items: center;
  gap: var(--space-1);

  input[type="checkbox"] {
    appearance: none;
    -webkit-appearance: none;
    position: relative;
    display: inline-block;
    width: .9375rem;
    height: .9375rem;
    font-size: 0.675rem; // This controls checkmark stroke thickness
    cursor: pointer;
    border: none;
    background: none;
  
    // Background box
    &::before {
      content: "";
      display: block;
      width: 100%;
      height: 100%;
      background-color: var(--color-theme);
      border-radius: 25%;
    }
  
    // Checkmark (mimicking Font Awesome)
    &::after {
      content: "";
      position: absolute;
      top: .2em;
      left: .5em;
      width: .5em;
      height: .8em;
      border: solid var(--color-black);
      border-width: 0 0.19em 0.19em 0;
      transform: rotate(45deg);
      opacity: 0;
      transition: opacity 0.15s ease;
      pointer-events: none;
    }

    &:hover::after {
      opacity: 0.25;
    }
  
    &:checked::after {
      opacity: 1;
    }
  
    &:focus-visible {
      outline: 2px solid var(--color-black);
      outline-offset: 2px;
    }
  }
}

.hidden {
  display: none;
}